# Диаграмма вариантов использования
![Диаграмма вариантов использования](https://github.com/JChanK/Book-collection/blob/main/docs/Diagrams/images/UseCaseDiagram.png)

## Глоссарий
| Термин | Определение |
|:--------|:-------------|
| **BookTracker** | Веб-приложение для управления личной библиотекой и поиска книг и авторов. |
| **Гость (Guest)** | Пользователь, не вошедший в систему. Может просматривать каталог, искать книги и авторов, просматривать информацию. |
| **Пользователь (User)** | Зарегистрированный пользователь, который может управлять личной коллекцией, оставлять рецензии и оценки. |
| **Каталог** | Раздел приложения, где отображаются все книги, доступные для просмотра и поиска. |
| **Книга (Book)** | Объект, содержащий информацию о произведении: название, автор, год, описание, обложка и т.д. |
| **Автор (Author)** | Объект, содержащий информацию об авторе книги: имя, фото, биография, список произведений. |
| **Рецензия (Review)** | Отзыв пользователя о книге, содержащий текст и оценку. |
| **Профиль пользователя (Profile)** | Раздел, где пользователь управляет своими книгами, авторами и рецензиями. |

---

## Содержание
1. [Актёры](#actors)  
2. [Варианты использования](#usecases)  
   2.1 [Войти в учётную запись](#login)  
   2.2 [Зарегистрироваться](#register)  
   2.3 [Просмотреть каталог книг](#browsecatalog)  
   2.4 [Поиск по книгам и авторам](#search)  
   2.5 [Просмотреть информацию о книге](#bookinfo)  
   2.6 [Просмотреть информацию об авторе](#authorinfo)  
   2.7 [Выйти из учётной записи](#logout)  

---

<a name="actors"/>

## 1. Актёры

| Актёр | Описание |
|:------|:----------|
| **Гость (Guest)** | Пользователь, не прошедший аутентификацию. Может просматривать каталог, искать книги и авторов, просматривать страницы книг и авторов. |
| **Пользователь (User)** | Зарегистрированный пользователь. Может входить в систему, управлять личным профилем, просматривать каталог, искать книги и авторов, а также выходить из системы. |

---

<a name="usecases"/>

## 2. Варианты использования

---

<a name="login"/>

## 2.1 Войти в учётную запись

**Актёр:** Пользователь  
**Основной поток:**
1. Пользователь открывает страницу «Войти».  
2. На GUI отображаются поля: логин (email/username), пароль, кнопка «Войти», ссылка «Забыли пароль».  
3. Пользователь вводит логин и пароль, нажимает «Войти».  
4. Система проверяет:
   - логин и пароль не пустые;
   - логин корректного формата (если email);
   - пароль соответствует записи в базе.  
5. Если проверка успешна — создаётся сессия, перенаправление в личный кабинет (dashboard).  
6. Пользователь видит приветствие и основные элементы меню.

**Альтернативные / ошибки:**
- Если одно из полей пустое → подсветка поля + сообщение «Поле не может быть пустым».
- Если логин не соответствует формату email (если используется email) → сообщение «Некорректный email».
- Если пароль неверный → сообщение «Неправильный логин или пароль».
- Если превышено число попыток входа → временная блокировка + предупреждение.
- Пользователь может кликнуть «Забыли пароль» → переход к сценарию восстановления.

---

<a name="register"/>

## 2.2 Зарегистрироваться

**Актёр:** Гость  
**Основной поток:**
1. Гость открывает страницу регистрации.  
2. GUI показывает поля: email, логин, пароль, повтор пароля, кнопка «Зарегистрироваться».  
3. Пользователь вводит данные и нажимает «Зарегистрироваться».  
4. Система проверяет:
   - все обязательные поля заполнены;
   - email в корректном формате;
   - пароль и подтверждение совпадают;
   - email/логин не заняты.  
5. Если всё успешно — создаётся новая запись пользователя, генерируется сессия, перенаправление в личный кабинет.  
6. Пользователь видит приветствие, меню и начальный экран.

**Альтернативные / ошибки:**
- Поля пустые → сообщение об обязательном поле.
- Email невалидный → подсказка «Введите корректный email».
- Пароли не совпадают → сообщение «Пароли не совпадают».
- Email или логин уже используется → сообщение «Аккаунт с таким email/логином уже существует».
- Ошибка сервера при сохранении → сообщение «Ошибка регистрации, попробуйте позже».

---

<a name="browsecatalog"/>

## 2.3 Просмотреть каталог книг

**Актёры:** Гость, Пользователь  
**Основной поток:**
1. Пользователь (или гость) переходит на страницу каталога.  
2. GUI отображает список книг: обложка, название, автор, краткое описание, кнопки фильтров / сортировки.  
3. Система загружает из БД первую страницу (offset, limit).  
4. При прокрутке / нажатию «Следующая страница» — загружается следующий блок.  
5. Пользователь может применять фильтры (жанр, год, цена) или сортировки (по дате, популярности).  
6. Список обновляется.

**Альтернативные / ошибки:**
- Если каталог пуст → сообщение «Нет доступных книг».
- Если фильтр/сортировка возвращают пустой список → сообщение «Ничего не найдено с такими параметрами».
- Ошибка загрузки данных → сообщение «Ошибка загрузки каталога, попробуйте обновить».

---

<a name="search"/>

## 2.4 Поиск по книгам и авторам

**Актёры:** Гость, Пользователь  
**Основной поток:**
1. В каталоге или в шапке приложения пользователь вводит запрос в поле поиска.  
2. GUI показывает подсказки/автодополнение (если предусмотрено).  
3. Пользователь нажимает «Поиск» или Enter.  
4. Система проверяет:
   - строка запроса не пуста;  
   - длина запроса — минимум 2 символа.  
5. Поиск выполняется по названиям книг и именам авторов, агрегируется результат.  
6. GUI отображает список результатов, разделённый на вкладки «Книги» и «Авторы».  
7. Пользователь может выбрать элемент из результатов, перейти к детальной странице.

**Альтернативные / ошибки:**
- Пустой запрос → сообщение «Введите текст для поиска».
- Запрос слишком короткий → подсказка «Введите минимум 2 символа».
- Нет совпадений → сообщение «Ничего не найдено».
- Ошибка на стороне сервера → сообщение «Ошибка поиска, попробуйте позже».

---

<a name="bookinfo"/>

## 2.5 Просмотреть информацию о книге

**Актёры:** Гость, Пользователь  
**Основной поток:**
1. Пользователь нажимает на книгу из каталога / результатов поиска.  
2. GUI переходит на страницу книги: отображаются заголовок, автор(-ы), год, описание, обложка, отзывы, средняя оценка, рекомендованные книги.  
3. Если пользователь авторизован — показывается кнопка «Добавить в коллекцию», форма добавления рецензии.  
4. Пользователь может листать отзывы, кликнуть автора, добавить книгу (если доступна кнопка).

**Альтернативные / ошибки:**
- Книга с таким id не найдена → сообщение «Книга не найдена».
- Ошибка загрузки данных → сообщение «Ошибка при загрузке данных книги, обновите страницу».

---

<a name="authorinfo"/>

## 2.6 Просмотреть информацию об авторе

**Актёры:** Гость, Пользователь  
**Основной поток:**
1. Пользователь нажимает на имя автора на странице книги или из результатов поиска.  
2. GUI переходит на страницу автора: отображается имя, фото, биография, список книг автора (с обложками и названиями).  
3. Пользователь может кликнуть любую книгу из списка, перейти к её странице.

**Альтернативные / ошибки:**
- Автор не найден → сообщение «Автор не найден».
- Ошибка загрузки данных → сообщение «Ошибка при загрузке данных автора».

---

<a name="logout"/>

## 2.7 Выйти из учётной записи

**Актёры:** Пользователь  
**Основной поток:**
1. Пользователь нажимает кнопку «Выйти» в меню.  
2. Система удаляет/инвалидирует сессию на сервере и клиенте (cookie/localStorage).  
3. GUI перенаправляет на главную страницу как гость.  

**Альтернативные / ошибки:**
- Если сессия уже недействительна → просто переход на главную страницу без ошибки.  
- Ошибка при завершении на сервере → сообщение «Ошибка выхода, попробуйте ещё раз» и повторная попытка.